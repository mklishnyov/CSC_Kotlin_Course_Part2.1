Ух ты! Вы почти завершили проект! Это последний шаг.  
На этом этапе вам нужно добавить статистику в игру.

Прежде всего, вам нужно добавить класс `Stat` в пакет `jetbrains.kotlin.course.card.trainer.stat` в файле `StatModel.kt` для хранения статистики:

- У него должно быть два свойства в основном конструкторе:
  - `knownBacks` с типом `List<Back>` для хранения известных стран;
  - `unknownBacks` с типом `List<Back>` для хранения неизвестных стран.

Далее, вам нужно реализовать несколько методов в уже определенном классе `StatService` в пакете `jetbrains.kotlin.course.card.trainer.card`:
- Добавьте свойство `history` в компаньон объект с типом `MutableList<Stat>` и инициализируйте его пустым списком.
- Реализуйте метод `save`, который добавляет новый `Stat` в `history`.
- Реализуйте метод `getHistory`, который возвращает _обратную_ `history`.

Ура! После завершения этого шага приложение будет работать отлично:

![Текущее состояние приложения](../../utils/src/main/resources/images/states/memoryTrainer/state2.gif)

<div class="hint" title="Нажмите, чтобы узнать о возможных способах расширения проекта">

Поздравляем! Вы проделали отличную работу и создали рабочее приложение.  
Мы собрали несколько идей о том, как вы можете улучшить этот проект самостоятельно.  
Эти улучшения не будут тестироваться в рамках курса. Некоторые улучшения требуют изменений как на клиенте (то, что отображается в браузере), так и на сервере (логика приложения).  
Мы не рассматриваем архитектуру клиент-сервер в этом курсе, 
поэтому вы можете либо изучать это самостоятельно, либо реализовать идеи, не требующие исследования стороннего кода.

**Улучшения сервера:**

- Добавьте многопользовательский режим, в котором игроки могут соревноваться друг с другом, чтобы быстрее сопоставлять страны и их столицы.
- Добавьте уровни, которые игрок может разблокировать по мере прохождения игры.
- В настоящее время приложение выбрасывает ошибку, если что-то идет не так: например, приложение выбрасывает ошибку, если список со словами становится пустым. В качестве улучшения можно добавить обработку такого рода ошибок.
- Добавьте штраф во времени за каждое неправильное совпадение.
- В настоящее время прогресс в игре теряется, если выключить сервер. Можно реализовать возможность сохранения текущего состояния игры в файлы и при запуске сервера извлекать эти данные.

**Улучшения клиента:**

- Чтобы поддерживать многопользовательский режим, необходимо добавить новый экран для каждой команды.
- Добавьте новый экран со всеми возможными уровнями игры.
- Обработка ошибок может быть добавлена не только на сервере, но и на клиентской стороне: например, можно показать диалоговое окно с сообщением об ошибке.
- Добавьте звуковые эффекты для каждого правильного и неправильного совпадения.
</div>

Если у вас возникнут трудности, **подсказки помогут вам решить эту задачу**.

----

### Подсказки

<div class="hint" title="Нажмите, чтобы узнать, как создать пустой изменяемый список">

Чтобы создать новый _изменяемый_ список, вы можете использовать [`mutableListOf`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/mutable-list-of.html):

```kotlin
val mutableList = mutableListOf<Int>(1, 2, 3) // Создает новый изменяемый список с тремя числами
val mutableList = mutableListOf<Int>() // Создает новый пустой изменяемый список
```
</div>

<div class="hint" title="Нажмите, чтобы узнать о встроенной функции `reversed`">

Если вам нужно получить список, в котором элементы расположены в обратном порядке,
вы можете либо организовать цикличный обход элементов оригинального списка от конца к началу и 
вернуть новый список, либо использовать встроенную функцию [`reversed`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reversed.html):

  ```kotlin
  val numbers = listOf(1, 2, 3, 4)
  val reversedList = mutableListOf<Int>()
  for (i in numbers.size - 1 downTo 0) {
    reversedList.add(numbers[i])
  }
  println(reversedList) // [4, 3, 2, 1]
  ```

Это **то же самое**, что и
  ```kotlin
  val numbers = listOf(1, 2, 3, 4)
  val reversedList = numbers.reversed()
  println(reversedList) // [4, 3, 2, 1]
  ```
</div>