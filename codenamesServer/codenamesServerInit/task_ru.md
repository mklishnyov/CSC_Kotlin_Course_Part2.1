#### Общее определение

Иногда при разработке программного обеспечения необходимо выполнить что-то в момент создания классов или объектов: например, проинформировать пользователя о текущем состоянии или проверить определенные условия. Классы имеют конструктор, но в нем нельзя написать дополнительный код, кроме объявления свойств. Объекты в общем случае не имеют конструктора. Именно для таких случаев Kotlin предоставляет [_блоки инициализации_](https://kotlinlang.org/docs/classes.html#constructors), которые позволяют выполнить некоторый код точно в момент создания экземпляра класса или объекта.

#### Определение Kotlin

Блоки инициализации помечаются ключевым словом `init`. Дополнительный код должен быть размещен внутри фигурных скобок:

```kotlin
object Settings {
    private const val MAX_NUMBER_OF_ROUNDS = 15
    init {
      require(MAX_NUMBER_OF_ROUNDS <= 5) { "Максимальное количество раундов не должно превышать пять!" }
    }
}
```

В этом случае, если условие будет `False`, будет выброшена ошибка.

<div class="hint" title="Нажмите, чтобы узнать о порядке инициализации классов Java">

На самом деле следующий код не вызовет ошибок при запуске на целевой платформе JVM:
```kotlin
fun main() {
    println(Settings.MAX_NUMBER_OF_ROUNDS)
}
```

Это связано с порядком инициализации классов в Java, и для доступа к статическим полям (а именно, у нас есть статические поля для объектов), вам не нужно создавать экземпляр самого класса. Поскольку Kotlin полностью совместим с Java, такое поведение естественно.

Однако следующий код вызовет ожидаемую ошибку:
```kotlin
fun main() {
    println(Settings)
}
```
То же самое произойдет, если вы вызовете любую функцию на объекте.

Подробное объяснение этого выходит за рамки данного курса, но любознательные студенты могут изучить этот вопрос самостоятельно.

</div>

#### Порядок выполнения

Во время инициализации экземпляра блоки инициализации выполняются в том порядке, в котором они появляются в теле класса или объекта, перемежаясь с инициализаторами свойств:

```kotlin
object Settings {
    private const val MAX_NUMBER_OF_ROUNDS = 5
    init {
        require(MAX_NUMBER_OF_ROUNDS <= 5) { "Максимальное количество раундов не должно превышать пять!" }
    }

    private const val MAX_NUMBER_OF_TEAMS = 5
    init {
        require(MAX_NUMBER_OF_TEAMS <=2) { "Максимальное количество команд не должно превышать две!" }
    }
}
```