Ух ты! Вы почти закончили проект! Это последний шаг.

Пакет `jetbrains.kotlin.course.codenames.card` уже содержит обычный класс `CardService`. В этом задании вам нужно реализовать функцию `generateWordsCards` со следующим поведением:
- Если `words.size < TOTAL_NUMBER`, вам нужно выбросить ошибку. `words` — это переменная типа `List<String>`, и она уже определена в файле `Words.kt` пакета `jetbrains.kotlin.course.codenames.utils`. Она содержит все возможные слова для игры. Вы уже объявили `TOTAL_NUMBER` в объекте `Utils` в пакете `jetbrains.kotlin.course.codenames.utils`.
- Затем вам нужно _перемешать_ `words` и создать `TOTAL_NUMBER` карточек, _взяв_ их из перемешанного списка слов и создав новые экземпляры класса `Card` (используйте `CardState.Front` в качестве состояния).
- Не забудьте _удалить_ все слова из списка `words`, которые были использованы для созданных карточек.

Удачи! После завершения этого шага приложение будет работать хорошо:

![Текущее состояние игры](../../utils/src/main/resources/images/states/codenames/state2.gif)

<div class="hint" title="Нажмите меня, чтобы узнать о возможных способах расширения проекта">

Поздравляем! Вы проделали отличную работу и создали рабочее приложение. Мы собрали несколько идей, как вы можете самостоятельно улучшить этот проект. Эти улучшения не будут тестироваться в рамках курса. Некоторые улучшения требуют изменений как на клиенте (что отображается в браузере), так и на сервере (логика приложения). Мы не рассматриваем архитектуру «клиент-сервер» в этом курсе, поэтому вы можете самостоятельно исследовать этот вопрос или реализовать идеи, не требующие изучения стороннего кода.

**Улучшения на сервере:**

- Добавьте слова, которые принадлежат более чем одному цвету, усложняя лидерам задачи по предоставлению подсказок.
- В настоящее время приложение выдает ошибку, если что-то идет не так: например, приложение выдает ошибку, если список со словами для новых раундов становится пустым. В качестве улучшения вы можете добавить обработку таких ошибок.
- Перемешайте буквы в словах на доске, чтобы команды должны были их разгадать для угадывания слов.
- В настоящее время мы теряем прогресс игры, если выключаем сервер. Вы можете реализовать возможность сохранения текущего состояния игры в файлах, и при запуске сервера можно извлечь эти данные.

**Улучшения на клиенте:**

- Чтобы показать разноцветные слова, вам нужно немного изменить клиент.
- Обработку ошибок можно добавить не только на сервере, но и на клиенте: например, вы можете показать диалоговое окно с сообщением об ошибке.
- Соедините состояние карты с сервера с состоянием карты на клиенте.
</div>

Если у вас возникнут затруднения, **подсказки помогут вам решить эту задачу**.

----

### Подсказки

<div class="hint" title="Нажмите меня, чтобы узнать о встроенной функции `require`">

Чтобы проверить условие и при необходимости выбросить ошибку IllegalArgumentException, вы можете использовать встроенную функцию [`require`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/require.html):

```kotlin
fun foo(a: int) {
    if (a < 5) {
        throw IllegalArgumentException("Некоторое сообщение об ошибке")
    }
}
```

Это то же самое, что и

```kotlin
fun foo(a: int) {
    require (a >= 5) { "Некоторое сообщение об ошибке" }
}
```
Обратите внимание, что вам необходимо использовать _противоположное_ условие!
</div>

<div class="hint" title="Нажмите меня, чтобы узнать о встроенной функции `shuffled`">

Иногда вам нужно случайно перемешать содержимое списка: например, чтобы изменить порядок слов в исходном списке. Чтобы сделать это, вы можете либо создать различные позиции слов из исходного списка и построить новый, либо использовать встроенную функцию [`shuffled`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/shuffled.html):

  ```kotlin
  val numbers = listOf(1, 2, 3, 4, 5, 6)
  println(numbers.shuffled()) // 1, 2, 3, 4, 5, 6 в другом случайном порядке
  ```
</div>

<div class="hint" title="Нажмите меня, чтобы узнать, как взять первые N элементов из списка">

Чтобы взять первые `N` элементов из списка, вы можете использовать встроенную функцию [`take`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/take.html):
```kotlin
fun main() {
    val numbers = listOf(1, 2, 3, 4, 5, 6)
    println(numbers.take(3)) // [1, 2, 3]
}
```
</div>

<div class="hint" title="Нажмите меня, чтобы узнать, как удалить первые N элементов из списка">

Чтобы удалить первые `N` элементов из списка, вы можете использовать встроенную функцию [`drop`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/drop.html):
```kotlin
fun main() {
    val numbers = listOf(1, 2, 3, 4, 5, 6)
    println(numbers.drop(3)) // [4, 5, 6]
}
```
</div>